function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},i=r.parcelRequire938d;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},r.parcelRequire938d=i),i.register("fKEEd",(function(t,r){e(t.exports,"default",(()=>s));var n=i("cXERV"),s=(i("iOxmk"),n.default)})),i.register("cXERV",(function(r,n){e(r.exports,"default",(()=>d));var s=i("4krDm"),o=i("2TooH");class a extends s.default{constructor(e){super("div",e,{className:"error-page"})}render(){return this.compile(t(o),this.props)}}var d=a})),i.register("4krDm",(function(t,r){e(t.exports,"default",(()=>d));var n=i("fexr3"),s=i("5sKyw"),o=i("c1JL1");class a{constructor(e="div",t={},r={}){this._element=null,this._id=null,this._meta=null,this.children={},this.setProps=e=>{e&&(Object.assign(this.props,e),this.eventBus().emit(a.EVENTS.FLOW_CDU))};const{children:i,props:o}=this._getChildren(t);this.children=i;const d=new n.default;this._meta={tagName:e,props:o,settings:r};const{withInternalID:c}=r;c?(this._id=s.default(),this.props=this._makePropsProxy({...o,__id:this._id})):this.props=this._makePropsProxy(o),this.eventBus=()=>d,this._registerEvents(d),d.emit(a.EVENTS.INIT)}_registerEvents(e){e.on(a.EVENTS.INIT,this.init.bind(this)),e.on(a.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),e.on(a.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(a.EVENTS.FLOW_RENDER,this._render.bind(this))}_createResources(){const{tagName:e,settings:{className:t}}=this._meta;this._element=this._createDocumentElement(e,t)}init(){this._createResources(),this.eventBus().emit(a.EVENTS.FLOW_RENDER)}_componentDidMount(){this.componentDidMount(),Object.values(this.children).forEach((e=>{e.dispatchComponentDidMount()}))}componentDidMount(e){console.log("did mount, props:",e)}dispatchComponentDidMount(){this._eventBus().emit(a.EVENTS.FLOW_CDM)}_componentDidUpdate(e,t){this.componentDidUpdate(e,t)}componentDidUpdate(e,t){return!0}get element(){return this._element}_render(){const e=this.render();this._removeEvents(),"string"==typeof e?this._element.innerHTML=e:this._element.appendChild(e.content),this._addEvents()}render(){return this.element}getContent(){return this.element}compile(e,t){const r={...t};Object.entries(this.children).forEach((([e,t])=>{Array.isArray(t)?r[e]=t.reduce(((e,t)=>e+`<div data-id="${t._id}"></div>`),""):r[e]=`<div data-id="${t._id}"></div>`}));const n=document.createElement("template"),s=o.compile(e);return n.innerHTML=s(r),Object.values(this.children).forEach((e=>{if(Array.isArray(e))e.forEach((e=>{n.content.querySelector(`[data-id="${e._id}"]`).replaceWith(e.getContent())}));else{n.content.querySelector(`[data-id="${e._id}"]`).replaceWith(e.getContent())}})),n}_makePropsProxy(e){const t=this;return new Proxy(e,{set:(e,r,n)=>(e[r]=n,t._render(),!0),deleteProperty(){throw new Error("Удаление запрещено")}})}_createDocumentElement(e,t){const{attributes:r}=this._meta.settings,n=document.createElement(e);return r&&Object.entries(r).forEach((([e,t])=>{n.setAttribute(e,String(t))})),t&&"string"==typeof t&&n.classList.add(t),Array.isArray(t)&&t.forEach((e=>{n.classList.add(e)})),this._id&&n.setAttribute("data-id",this._id),n}_addEvents(){const{events:e={}}=this.props;Object.keys(e).forEach((t=>{this._element.addEventListener(t,e[t],!0)}))}_removeEvents(){const{events:e={}}=this.props;Object.keys(e).forEach((t=>{this._element.removeEventListener(t,e[t])}))}_getChildren(e){const t={},r={};return Object.entries(e).forEach((([e,n])=>{const s=n instanceof a,i=Array.isArray(n)&&n[0]&&n[0]instanceof a;s||i?t[e]=n:r[e]=n})),{children:t,props:r}}show(){this.getContent().style.display="block"}hide(){this.getContent().style.display="none"}}a.EVENTS={INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_RENDER:"flow:render",FLOW_CDU:"flow:component-did-update"};var d=a})),i.register("fexr3",(function(t,r){e(t.exports,"default",(()=>n));var n=class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e]=this.listeners[e].filter((e=>e!==t))}emit(e,...t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e].forEach((e=>{e(...t)}))}}})),i.register("5sKyw",(function(t,r){e(t.exports,"default",(()=>o));var n=i("7qKRb"),s=i("2uohp");var o=function(e,t,r){var i=(e=e||{}).random||(e.rng||n.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=i[o];return t}return s.default(i)}})),i.register("7qKRb",(function(t,r){var n;e(t.exports,"default",(()=>i));var s=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}})),i.register("2uohp",(function(t,r){e(t.exports,"default",(()=>a));for(var n=i("64ZUg"),s=[],o=0;o<256;++o)s.push((o+256).toString(16).substr(1));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!n.default(r))throw TypeError("Stringified UUID is invalid");return r}})),i.register("64ZUg",(function(t,r){e(t.exports,"default",(()=>s));var n=i("4meF0");var s=function(e){return"string"==typeof e&&n.default.test(e)}})),i.register("4meF0",(function(t,r){e(t.exports,"default",(()=>n));var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i})),i.register("2TooH",(function(e,t){e.exports='<h1 class="error-page__code">{{code}}</h1>\n<p class="error-page__text">{{text}}</p>\n<a href="{{href}}" class="error-page__link">{{link}}</a>\n'})),i.register("iOxmk",(function(e,t){}));
//# sourceMappingURL=404.c6a83d59.js.map
