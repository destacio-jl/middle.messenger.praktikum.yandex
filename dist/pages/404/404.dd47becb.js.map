{"mappings":"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","sources":["src/core/block.ts","src/core/EventBus.ts","node_modules/uuid/dist/esm-browser/v4.js","node_modules/uuid/dist/esm-browser/rng.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/regex.js"],"sourcesContent":["import EventBus, { IEventBus } from \"./EventBus\";\nimport { v4 as makeUUID } from \"uuid\";\nimport { compile } from \"handlebars\";\n\ntype Props = {\n  [key: string]: unknown;\n};\n\nexport type BlockSettings = {\n  withInternalID?: boolean;\n  className?: string | string[];\n  attributes?: { [key: string]: string };\n};\n\nexport interface IBlock {\n  _id?: string;\n  props: Props;\n  eventBus: () => IEventBus;\n  init: () => void;\n  componentDidMount: (oldProps: Props) => void;\n  dispatchComponentDidMount: () => void;\n  componentDidUpdate: (oldProps: Props, newProps: Props) => boolean;\n  setProps: (newProps: Props) => void;\n  render: () => void;\n  getContent: () => HTMLElement | null;\n}\n\nclass Block implements IBlock {\n  props: Props;\n\n  eventBus: () => IEventBus;\n\n  _eventBus: () => IEventBus;\n\n  static EVENTS = {\n    INIT: \"init\",\n    FLOW_CDM: \"flow:component-did-mount\",\n    FLOW_RENDER: \"flow:render\",\n    FLOW_CDU: \"flow:component-did-update\",\n  };\n\n  _element = null;\n\n  _id = null;\n\n  _meta = null;\n\n  children: { [key: string]: IBlock } = {};\n\n  constructor(\n    tagName = \"div\",\n    propsAndChildren: Props = {},\n    settings: BlockSettings = {}\n  ) {\n    const { children, props } = this._getChildren(propsAndChildren);\n    this.children = children;\n\n    const eventBus = new EventBus();\n    this._meta = {\n      tagName,\n      props,\n      settings,\n    };\n\n    const { withInternalID } = settings;\n\n    if (withInternalID) {\n      this._id = makeUUID();\n      this.props = this._makePropsProxy({ ...props, __id: this._id });\n    } else {\n      this.props = this._makePropsProxy(props);\n    }\n\n    this.eventBus = () => eventBus;\n\n    this._registerEvents(eventBus);\n    eventBus.emit(Block.EVENTS.INIT);\n  }\n\n  _registerEvents(eventBus: IEventBus) {\n    eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_CDM, this._componentDidMount.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_CDU, this._componentDidUpdate.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_RENDER, this._render.bind(this));\n  }\n\n  _createResources() {\n    const {\n      tagName,\n      settings: { className },\n    } = this._meta;\n    this._element = this._createDocumentElement(tagName, className);\n  }\n\n  init() {\n    this._createResources();\n    this.eventBus().emit(Block.EVENTS.FLOW_RENDER);\n  }\n\n  _componentDidMount() {\n    this.componentDidMount();\n\n    Object.values(this.children).forEach((child) => {\n      child.dispatchComponentDidMount();\n    });\n  }\n\n  // Может переопределять пользователь, необязательно трогать\n  componentDidMount(oldProps?: Props) {\n    console.log(\"did mount, props:\", oldProps);\n  }\n\n  dispatchComponentDidMount() {\n    this._eventBus().emit(Block.EVENTS.FLOW_CDM);\n  }\n\n  _componentDidUpdate(oldProps, newProps) {\n    const response = this.componentDidUpdate(oldProps, newProps);\n  }\n\n  // Может переопределять пользователь, необязательно трогать\n  componentDidUpdate(oldProps, newProps) {\n    return true;\n  }\n\n  setProps = (nextProps: Props) => {\n    if (!nextProps) {\n      return;\n    }\n\n    Object.assign(this.props, nextProps);\n    this.eventBus().emit(Block.EVENTS.FLOW_CDU);\n  };\n\n  get element() {\n    return this._element;\n  }\n\n  _render() {\n    const block = this.render();\n\n    this._removeEvents();\n\n    if (typeof block === \"string\") {\n      this._element.innerHTML = block;\n    } else {\n      this._element.appendChild(block.content);\n    }\n\n    this._addEvents();\n  }\n\n  // Может переопределять пользователь, необязательно трогать\n  render(): string | HTMLTemplateElement {\n    return this.element;\n  }\n\n  getContent() {\n    return this.element;\n  }\n\n  compile(\n    template: HandlebarsTemplateDelegate,\n    props: Props\n  ): HTMLTemplateElement {\n    const propsAndStubs = { ...props };\n\n    Object.entries(this.children).forEach(([key, child]) => {\n      if (Array.isArray(child)) {\n        propsAndStubs[key] = child.reduce((result, block) => {\n          return result + `<div data-id=\"${block._id}\"></div>`;\n        }, ``);\n      } else {\n        propsAndStubs[key] = `<div data-id=\"${child._id}\"></div>`;\n      }\n    });\n\n    const fragment = document.createElement(\"template\");\n\n    const compiledTemplate = compile(template);\n    fragment.innerHTML = compiledTemplate(propsAndStubs);\n\n    Object.values(this.children).forEach((child) => {\n      if (Array.isArray(child)) {\n        child.forEach((block) => {\n          const stub = fragment.content.querySelector(\n            `[data-id=\"${block._id}\"]`\n          );\n          stub.replaceWith(block.getContent());\n        });\n      } else {\n        const stub = fragment.content.querySelector(`[data-id=\"${child._id}\"]`);\n        stub.replaceWith(child.getContent());\n      }\n    });\n\n    return fragment;\n  }\n\n  _makePropsProxy(props) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const proxyProps = new Proxy(props, {\n      set(target, prop, value) {\n        target[prop] = value;\n        self._render();\n        return true;\n      },\n      deleteProperty() {\n        throw new Error(`Удаление запрещено`);\n      },\n    });\n\n    return proxyProps;\n  }\n\n  _createDocumentElement(tagName: string, className?: string) {\n    const { attributes } = this._meta.settings;\n    const element = document.createElement(tagName);\n\n    if (attributes)\n      Object.entries(attributes).forEach(([key, value]) => {\n        element.setAttribute(key, String(value));\n      });\n\n    if (className && typeof className === \"string\")\n      element.classList.add(className);\n    if (Array.isArray(className))\n      className.forEach((cl) => {\n        element.classList.add(cl);\n      });\n    if (this._id) element.setAttribute(\"data-id\", this._id);\n    return element;\n  }\n\n  _addEvents() {\n    const { events = {} } = this.props;\n\n    Object.keys(events).forEach((eventName) => {\n      this._element.addEventListener(eventName, events[eventName], true);\n    });\n  }\n\n  _removeEvents() {\n    const { events = {} } = this.props;\n\n    Object.keys(events).forEach((eventName) => {\n      this._element.removeEventListener(eventName, events[eventName]);\n    });\n  }\n\n  _getChildren(propsAndChildren: Props) {\n    const children = {};\n    const props = {};\n\n    Object.entries(propsAndChildren).forEach(([key, value]) => {\n      const isBlock = value instanceof Block;\n      const isBlockArray =\n        Array.isArray(value) && value[0] && value[0] instanceof Block;\n\n      if (isBlock || isBlockArray) {\n        children[key] = value;\n      } else {\n        props[key] = value;\n      }\n    });\n\n    return { children, props };\n  }\n\n  show() {\n    this.getContent().style.display = \"block\";\n  }\n\n  hide() {\n    this.getContent().style.display = \"none\";\n  }\n}\n\nexport default Block;\n","type Callback = (...args: unknown[]) => void;\n\nexport interface IEventBus {\n  listeners: {\n    [key: string]: Callback[];\n  };\n  on: (event: string, callback: Callback) => void;\n  off: (event: string, callback: Callback) => void;\n  emit: (event: string, ...args: unknown[]) => void;\n}\n\nclass EventBus implements IEventBus {\n  listeners: {\n    [key: string]: Callback[];\n  };\n\n  constructor() {\n    this.listeners = {};\n  }\n\n  on(event: string, callback: Callback) {\n    if (!this.listeners[event]) {\n      this.listeners[event] = [];\n    }\n\n    this.listeners[event].push(callback);\n  }\n\n  off(event: string, callback: Callback) {\n    if (!this.listeners[event]) {\n      throw new Error(`Нет события: ${event}`);\n    }\n\n    this.listeners[event] = this.listeners[event].filter(\n      (listener) => listener !== callback\n    );\n  }\n\n  emit(event: string, ...args: unknown[]) {\n    if (!this.listeners[event]) {\n      throw new Error(`Нет события: ${event}`);\n    }\n\n    this.listeners[event].forEach((listener) => {\n      listener(...args);\n    });\n  }\n}\n\nexport default EventBus;\n","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":["$2cff903220a6fe5a$var$Block","tagName","propsAndChildren","settings","this","_element","_id","_meta","children","setProps","nextProps","Object","assign","props","eventBus","emit","EVENTS","FLOW_CDU","_getChildren","$fexr3","default","withInternalID","$5sKyw","_makePropsProxy","__id","_registerEvents","INIT","on","init","bind","FLOW_CDM","_componentDidMount","_componentDidUpdate","FLOW_RENDER","_render","_createResources","className","_createDocumentElement","componentDidMount","values","forEach","child","dispatchComponentDidMount","oldProps","console","log","_eventBus","newProps","componentDidUpdate","element","block","render","_removeEvents","innerHTML","appendChild","content","_addEvents","getContent","compile","template","propsAndStubs","entries","key","Array","isArray","reduce","result","fragment","document","createElement","compiledTemplate","$c1JL1","querySelector","replaceWith","self","Proxy","set","target","prop","value","deleteProperty","Error","attributes","setAttribute","String","classList","add","cl","events","keys","eventName","addEventListener","removeEventListener","isBlock","isBlockArray","show","style","display","hide","$2cff903220a6fe5a$export$2e2bcd8739ae039","$5b716798dbe7e148$export$2e2bcd8739ae039","listeners","event","callback","push","off","filter","listener","args","$3fa3ae484854b431$export$2e2bcd8739ae039","options","buf","offset","rnds","random","rng","$7qKRb","i","$2uohp","$568f4ee4022ba00e$var$getRandomValues","$568f4ee4022ba00e$var$rnds8","Uint8Array","crypto","getRandomValues","msCrypto","$1d0137947e8554ce$var$byteToHex","$1d0137947e8554ce$var$i","toString","substr","$1d0137947e8554ce$export$2e2bcd8739ae039","arr","arguments","length","undefined","uuid","toLowerCase","$64ZUg","TypeError","$46d323206dcbf256$export$2e2bcd8739ae039","$4meF0","test","$32c496bfb6c27b56$export$2e2bcd8739ae039"],"version":3,"file":"404.dd47becb.js.map"}