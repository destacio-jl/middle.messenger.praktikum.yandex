{"mappings":"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","sources":["src/ui/InputField/index.ts","src/ui/InputField/InputField.ts","src/core/Block.ts","src/core/EventBus.ts","node_modules/uuid/dist/esm-browser/v4.js","node_modules/uuid/dist/esm-browser/rng.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/regex.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-e33cda0704539a96.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-08a9fb897966bd6d.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-1d1c80017ba338e6.js","src/ui/InputField/types.ts"],"sourcesContent":["import InputField from \"./InputField\";\nimport { INPUT_FIELD_VARIANTS, InputFieldProps } from \"./types\";\n\nexport { INPUT_FIELD_VARIANTS, InputFieldProps };\nexport default InputField;\n","import Block, { BlockSettings } from \"../../core/Block\";\nimport { compile } from \"handlebars\";\nimport inputFieldTemplate from \"./InputField.hbs\";\nimport profileFieldTemplate from \"./ProfileField.hbs\";\nimport roundedFieldTemplate from \"./RoundedInput.hbs\";\nimport { InputFieldProps, INPUT_FIELD_VARIANTS } from \"./types\";\n\nconst TEMPLATES = {\n  [INPUT_FIELD_VARIANTS.AUTH]: inputFieldTemplate,\n  [INPUT_FIELD_VARIANTS.PROFILE]: profileFieldTemplate,\n  [INPUT_FIELD_VARIANTS.ROUNDED]: roundedFieldTemplate,\n};\n\nconst CLASSES = {\n  [INPUT_FIELD_VARIANTS.AUTH]: ``,\n  [INPUT_FIELD_VARIANTS.PROFILE]: `profile__field`,\n  [INPUT_FIELD_VARIANTS.ROUNDED]: `chat__input`,\n};\n\nclass InputField extends Block {\n  props: InputFieldProps;\n\n  validate() {\n    return null;\n  }\n\n  constructor(props: InputFieldProps, settings?: BlockSettings) {\n    const {\n      value,\n      disabled,\n      variant,\n      validators,\n      type,\n      showErrors = true,\n    } = props;\n\n    const validateAndShowError = () => {\n      if (!validators) return;\n\n      const currentValue = this.value;\n\n      const errorText = validators.reduce((error, validator) => {\n        const currentError = validator(currentValue);\n        return error || currentError;\n      }, ``);\n\n      const newProps = {\n        ...this.props,\n        value: currentValue,\n        errorText,\n      };\n\n      this.setProps(newProps);\n    };\n\n    super(\n      \"div\",\n      {\n        ...props,\n        value: value || ``,\n        disabled: disabled ? `disabled` : ``,\n        variant: variant || INPUT_FIELD_VARIANTS.AUTH,\n        type: type || \"text\",\n        events: {\n          blur: validateAndShowError,\n        },\n        showErrors,\n      },\n      {\n        ...settings,\n        className: CLASSES[variant],\n      }\n    );\n\n    this.validate = validateAndShowError;\n  }\n\n  get value() {\n    return this.element.querySelector(`[name=${this.props.name}]`).value;\n  }\n\n  render() {\n    const { variant } = this.props;\n    const compiledTemplate = compile(\n      TEMPLATES[variant as INPUT_FIELD_VARIANTS]\n    );\n    return compiledTemplate(this.props);\n  }\n}\n\nexport default InputField;\n","import EventBus, { IEventBus } from \"./EventBus\";\nimport { v4 as makeUUID } from \"uuid\";\nimport { compile } from \"handlebars\";\n\ntype Props = {\n  [key: string]: unknown;\n};\n\nexport type BlockSettings = {\n  withInternalID?: boolean;\n  className?: string | string[];\n  attributes?: { [key: string]: string };\n};\n\nexport interface IBlock {\n  _id?: string;\n  props: Props;\n  eventBus: () => IEventBus;\n  init: () => void;\n  componentDidMount: (oldProps: Props) => void;\n  dispatchComponentDidMount: () => void;\n  componentDidUpdate: (oldProps: Props, newProps: Props) => boolean;\n  setProps: (newProps: Props) => void;\n  render: () => void;\n  getContent: () => HTMLElement | null;\n}\n\nclass Block implements IBlock {\n  props: Props;\n\n  eventBus: () => IEventBus;\n\n  _eventBus: () => IEventBus;\n\n  static EVENTS = {\n    INIT: \"init\",\n    FLOW_CDM: \"flow:component-did-mount\",\n    FLOW_RENDER: \"flow:render\",\n    FLOW_CDU: \"flow:component-did-update\",\n  };\n\n  _element = null;\n\n  _id = null;\n\n  _meta = null;\n\n  children: { [key: string]: IBlock } = {};\n\n  constructor(\n    tagName = \"div\",\n    propsAndChildren: Props = {},\n    settings: BlockSettings = {}\n  ) {\n    const { children, props } = this._getChildren(propsAndChildren);\n    this.children = children;\n\n    const eventBus = new EventBus();\n    this._meta = {\n      tagName,\n      props,\n      settings,\n    };\n\n    const { withInternalID } = settings;\n\n    if (withInternalID) {\n      this._id = makeUUID();\n      this.props = this._makePropsProxy({ ...props, __id: this._id });\n    } else {\n      this.props = this._makePropsProxy(props);\n    }\n\n    this.eventBus = () => eventBus;\n\n    this._registerEvents(eventBus);\n    eventBus.emit(Block.EVENTS.INIT);\n  }\n\n  _registerEvents(eventBus: IEventBus) {\n    eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_CDM, this._componentDidMount.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_CDU, this._componentDidUpdate.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_RENDER, this._render.bind(this));\n  }\n\n  _createResources() {\n    const {\n      tagName,\n      settings: { className },\n    } = this._meta;\n    this._element = this._createDocumentElement(tagName, className);\n  }\n\n  init() {\n    this._createResources();\n    this.eventBus().emit(Block.EVENTS.FLOW_RENDER);\n  }\n\n  _componentDidMount() {\n    this.componentDidMount();\n\n    Object.values(this.children).forEach((child) => {\n      child.dispatchComponentDidMount();\n    });\n  }\n\n  // Может переопределять пользователь, необязательно трогать\n  componentDidMount(oldProps?: Props) {\n    console.log(\"did mount, props:\", oldProps);\n  }\n\n  dispatchComponentDidMount() {\n    this._eventBus().emit(Block.EVENTS.FLOW_CDM);\n  }\n\n  _componentDidUpdate(oldProps, newProps) {\n    const response = this.componentDidUpdate(oldProps, newProps);\n  }\n\n  // Может переопределять пользователь, необязательно трогать\n  componentDidUpdate(oldProps, newProps) {\n    return true;\n  }\n\n  setProps = (nextProps: Props) => {\n    if (!nextProps) {\n      return;\n    }\n\n    Object.assign(this.props, nextProps);\n    this.eventBus().emit(Block.EVENTS.FLOW_CDU);\n  };\n\n  get element() {\n    return this._element;\n  }\n\n  _render() {\n    const block = this.render();\n\n    this._removeEvents();\n\n    if (typeof block === \"string\") {\n      this._element.innerHTML = block;\n    } else {\n      this._element.appendChild(block.content);\n    }\n\n    this._addEvents();\n  }\n\n  // Может переопределять пользователь, необязательно трогать\n  render(): string | HTMLTemplateElement {\n    return this.element;\n  }\n\n  getContent() {\n    return this.element;\n  }\n\n  compile(\n    template: HandlebarsTemplateDelegate,\n    props: Props\n  ): HTMLTemplateElement {\n    const propsAndStubs = { ...props };\n\n    Object.entries(this.children).forEach(([key, child]) => {\n      if (Array.isArray(child)) {\n        propsAndStubs[key] = child.reduce((result, block) => {\n          return result + `<div data-id=\"${block._id}\"></div>`;\n        }, ``);\n      } else {\n        propsAndStubs[key] = `<div data-id=\"${child._id}\"></div>`;\n      }\n    });\n\n    const fragment = document.createElement(\"template\");\n\n    const compiledTemplate = compile(template);\n    fragment.innerHTML = compiledTemplate(propsAndStubs);\n\n    Object.values(this.children).forEach((child) => {\n      if (Array.isArray(child)) {\n        child.forEach((block) => {\n          const stub = fragment.content.querySelector(\n            `[data-id=\"${block._id}\"]`\n          );\n          stub.replaceWith(block.getContent());\n        });\n      } else {\n        const stub = fragment.content.querySelector(`[data-id=\"${child._id}\"]`);\n        stub.replaceWith(child.getContent());\n      }\n    });\n\n    return fragment;\n  }\n\n  _makePropsProxy(props) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const proxyProps = new Proxy(props, {\n      set(target, prop, value) {\n        target[prop] = value;\n        self._render();\n        return true;\n      },\n      deleteProperty() {\n        throw new Error(`Удаление запрещено`);\n      },\n    });\n\n    return proxyProps;\n  }\n\n  _createDocumentElement(tagName: string, className?: string) {\n    const { attributes } = this._meta.settings;\n    const element = document.createElement(tagName);\n\n    if (attributes)\n      Object.entries(attributes).forEach(([key, value]) => {\n        element.setAttribute(key, String(value));\n      });\n\n    if (className && typeof className === \"string\")\n      element.classList.add(className);\n    if (Array.isArray(className))\n      className.forEach((cl) => {\n        element.classList.add(cl);\n      });\n    if (this._id) element.setAttribute(\"data-id\", this._id);\n    return element;\n  }\n\n  _addEvents() {\n    const { events = {} } = this.props;\n\n    Object.keys(events).forEach((eventName) => {\n      this._element.addEventListener(eventName, events[eventName], true);\n    });\n  }\n\n  _removeEvents() {\n    const { events = {} } = this.props;\n\n    Object.keys(events).forEach((eventName) => {\n      this._element.removeEventListener(eventName, events[eventName]);\n    });\n  }\n\n  _getChildren(propsAndChildren: Props) {\n    const children = {};\n    const props = {};\n\n    Object.entries(propsAndChildren).forEach(([key, value]) => {\n      const isBlock = value instanceof Block;\n      const isBlockArray =\n        Array.isArray(value) && value[0] && value[0] instanceof Block;\n\n      if (isBlock || isBlockArray) {\n        children[key] = value;\n      } else {\n        props[key] = value;\n      }\n    });\n\n    return { children, props };\n  }\n\n  show() {\n    this.getContent().style.display = \"block\";\n  }\n\n  hide() {\n    this.getContent().style.display = \"none\";\n  }\n}\n\nexport default Block;\n","type Callback = (...args: unknown[]) => void;\n\nexport interface IEventBus {\n  listeners: {\n    [key: string]: Callback[];\n  };\n  on: (event: string, callback: Callback) => void;\n  off: (event: string, callback: Callback) => void;\n  emit: (event: string, ...args: unknown[]) => void;\n}\n\nclass EventBus implements IEventBus {\n  listeners: {\n    [key: string]: Callback[];\n  };\n\n  constructor() {\n    this.listeners = {};\n  }\n\n  on(event: string, callback: Callback) {\n    if (!this.listeners[event]) {\n      this.listeners[event] = [];\n    }\n\n    this.listeners[event].push(callback);\n  }\n\n  off(event: string, callback: Callback) {\n    if (!this.listeners[event]) {\n      throw new Error(`Нет события: ${event}`);\n    }\n\n    this.listeners[event] = this.listeners[event].filter(\n      (listener) => listener !== callback\n    );\n  }\n\n  emit(event: string, ...args: unknown[]) {\n    if (!this.listeners[event]) {\n      throw new Error(`Нет события: ${event}`);\n    }\n\n    this.listeners[event].forEach((listener) => {\n      listener(...args);\n    });\n  }\n}\n\nexport default EventBus;\n","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","module.exports = \"3ada02821f2fed40\";","module.exports = \"61bfe63dc904f976\";","module.exports = \"31bb43965d72187e\";","import { Validator } from \"../../utils/validators\";\n\nexport enum INPUT_FIELD_VARIANTS {\n  AUTH = `auth`,\n  PROFILE = `profile`,\n  ROUNDED = `rounded`,\n}\n\nexport type InputFieldProps = {\n  name: string;\n  showErrors?: boolean;\n  label?: string;\n  type?: string;\n  errorText?: string;\n  placeholder?: string;\n  value?: string;\n  disabled?: boolean;\n  variant?: INPUT_FIELD_VARIANTS;\n  validators?: Validator[];\n};\n"],"names":["$451938412050d0b7$export$2e2bcd8739ae039","$3yeiF","default","$1088e93944fa086a$var$TEMPLATES","$byTFg","INPUT_FIELD_VARIANTS","AUTH","$parcel$interopDefault","$eDZcv","PROFILE","$ai41l","ROUNDED","$bYVLD","$1088e93944fa086a$var$CLASSES","$1088e93944fa086a$var$InputField","$4krDm","validate","props","settings","value","disabled","variant","validators","type","showErrors","validateAndShowError","currentValue","this","errorText","reduce","error","validator","currentError","newProps","setProps","super","events","blur","className","element","querySelector","name","render","$c1JL1","compile","compiledTemplate","$1088e93944fa086a$export$2e2bcd8739ae039","$5803a884eeecc11d$var$Block","tagName","propsAndChildren","_element","_id","_meta","children","nextProps","Object","assign","eventBus","emit","EVENTS","FLOW_CDU","_getChildren","$fexr3","withInternalID","$5sKyw","_makePropsProxy","__id","_registerEvents","INIT","on","init","bind","FLOW_CDM","_componentDidMount","_componentDidUpdate","FLOW_RENDER","_render","_createResources","_createDocumentElement","componentDidMount","values","forEach","child","dispatchComponentDidMount","oldProps","console","log","_eventBus","componentDidUpdate","block","_removeEvents","innerHTML","appendChild","content","_addEvents","getContent","template","propsAndStubs","entries","key","Array","isArray","result","fragment","document","createElement","replaceWith","self","Proxy","set","target","prop","deleteProperty","Error","attributes","setAttribute","String","classList","add","cl","keys","eventName","addEventListener","removeEventListener","isBlock","isBlockArray","show","style","display","hide","$5803a884eeecc11d$export$2e2bcd8739ae039","$5b716798dbe7e148$export$2e2bcd8739ae039","listeners","event","callback","push","off","filter","listener","args","$3fa3ae484854b431$export$2e2bcd8739ae039","options","buf","offset","rnds","random","rng","$7qKRb","i","$2uohp","$568f4ee4022ba00e$var$getRandomValues","$568f4ee4022ba00e$var$rnds8","Uint8Array","crypto","getRandomValues","msCrypto","$1d0137947e8554ce$var$byteToHex","$1d0137947e8554ce$var$i","toString","substr","$1d0137947e8554ce$export$2e2bcd8739ae039","arr","arguments","length","undefined","uuid","toLowerCase","$64ZUg","TypeError","$46d323206dcbf256$export$2e2bcd8739ae039","$4meF0","test","$32c496bfb6c27b56$export$2e2bcd8739ae039","module","exports","$a38697c75a1a4ae7$export$fdb26ae33a7273a0"],"version":3,"file":"Login.e08c94cb.js.map"}