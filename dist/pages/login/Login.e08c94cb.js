function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=r.parcelRequire938d;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},r.parcelRequire938d=s),s.register("2Cyn4",(function(t,r){e(t.exports,"default",(()=>i)),e(t.exports,"INPUT_FIELD_VARIANTS",(()=>s("byTFg").INPUT_FIELD_VARIANTS));var n=s("3yeiF"),i=(s("byTFg"),n.default)})),s.register("3yeiF",(function(r,n){e(r.exports,"default",(()=>f));var i=s("4krDm"),o=s("c1JL1"),a=s("eDZcv"),l=s("ai41l"),d=s("bYVLD"),u=s("byTFg");const c={[u.INPUT_FIELD_VARIANTS.AUTH]:t(a),[u.INPUT_FIELD_VARIANTS.PROFILE]:t(l),[u.INPUT_FIELD_VARIANTS.ROUNDED]:t(d)},p={[u.INPUT_FIELD_VARIANTS.AUTH]:"",[u.INPUT_FIELD_VARIANTS.PROFILE]:"profile__field",[u.INPUT_FIELD_VARIANTS.ROUNDED]:"chat__input"};class h extends i.default{validate(){return null}constructor(e,t){const{value:r,disabled:n,variant:i,validators:s,type:o,showErrors:a=!0}=e,l=()=>{if(!s)return;const e=this.value,t=s.reduce(((t,r)=>{const n=r(e);return t||n}),""),r={...this.props,value:e,errorText:t};this.setProps(r)};super("div",{...e,value:r||"",disabled:n?"disabled":"",variant:i||u.INPUT_FIELD_VARIANTS.AUTH,type:o||"text",events:{blur:l},showErrors:a},{...t,className:p[i]}),this.validate=l}get value(){return this.element.querySelector(`[name=${this.props.name}]`).value}render(){const{variant:e}=this.props;return o.compile(c[e])(this.props)}}var f=h})),s.register("4krDm",(function(t,r){e(t.exports,"default",(()=>l));var n=s("fexr3"),i=s("5sKyw"),o=s("c1JL1");class a{constructor(e="div",t={},r={}){this._element=null,this._id=null,this._meta=null,this.children={},this.setProps=e=>{e&&(Object.assign(this.props,e),this.eventBus().emit(a.EVENTS.FLOW_CDU))};const{children:s,props:o}=this._getChildren(t);this.children=s;const l=new n.default;this._meta={tagName:e,props:o,settings:r};const{withInternalID:d}=r;d?(this._id=i.default(),this.props=this._makePropsProxy({...o,__id:this._id})):this.props=this._makePropsProxy(o),this.eventBus=()=>l,this._registerEvents(l),l.emit(a.EVENTS.INIT)}_registerEvents(e){e.on(a.EVENTS.INIT,this.init.bind(this)),e.on(a.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),e.on(a.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(a.EVENTS.FLOW_RENDER,this._render.bind(this))}_createResources(){const{tagName:e,settings:{className:t}}=this._meta;this._element=this._createDocumentElement(e,t)}init(){this._createResources(),this.eventBus().emit(a.EVENTS.FLOW_RENDER)}_componentDidMount(){this.componentDidMount(),Object.values(this.children).forEach((e=>{e.dispatchComponentDidMount()}))}componentDidMount(e){console.log("did mount, props:",e)}dispatchComponentDidMount(){this._eventBus().emit(a.EVENTS.FLOW_CDM)}_componentDidUpdate(e,t){this.componentDidUpdate(e,t)}componentDidUpdate(e,t){return!0}get element(){return this._element}_render(){const e=this.render();this._removeEvents(),"string"==typeof e?this._element.innerHTML=e:this._element.appendChild(e.content),this._addEvents()}render(){return this.element}getContent(){return this.element}compile(e,t){const r={...t};Object.entries(this.children).forEach((([e,t])=>{Array.isArray(t)?r[e]=t.reduce(((e,t)=>e+`<div data-id="${t._id}"></div>`),""):r[e]=`<div data-id="${t._id}"></div>`}));const n=document.createElement("template"),i=o.compile(e);return n.innerHTML=i(r),Object.values(this.children).forEach((e=>{if(Array.isArray(e))e.forEach((e=>{n.content.querySelector(`[data-id="${e._id}"]`).replaceWith(e.getContent())}));else{n.content.querySelector(`[data-id="${e._id}"]`).replaceWith(e.getContent())}})),n}_makePropsProxy(e){const t=this;return new Proxy(e,{set:(e,r,n)=>(e[r]=n,t._render(),!0),deleteProperty(){throw new Error("Удаление запрещено")}})}_createDocumentElement(e,t){const{attributes:r}=this._meta.settings,n=document.createElement(e);return r&&Object.entries(r).forEach((([e,t])=>{n.setAttribute(e,String(t))})),t&&"string"==typeof t&&n.classList.add(t),Array.isArray(t)&&t.forEach((e=>{n.classList.add(e)})),this._id&&n.setAttribute("data-id",this._id),n}_addEvents(){const{events:e={}}=this.props;Object.keys(e).forEach((t=>{this._element.addEventListener(t,e[t],!0)}))}_removeEvents(){const{events:e={}}=this.props;Object.keys(e).forEach((t=>{this._element.removeEventListener(t,e[t])}))}_getChildren(e){const t={},r={};return Object.entries(e).forEach((([e,n])=>{const i=n instanceof a,s=Array.isArray(n)&&n[0]&&n[0]instanceof a;i||s?t[e]=n:r[e]=n})),{children:t,props:r}}show(){this.getContent().style.display="block"}hide(){this.getContent().style.display="none"}}a.EVENTS={INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_RENDER:"flow:render",FLOW_CDU:"flow:component-did-update"};var l=a})),s.register("fexr3",(function(t,r){e(t.exports,"default",(()=>n));var n=class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e]=this.listeners[e].filter((e=>e!==t))}emit(e,...t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e].forEach((e=>{e(...t)}))}}})),s.register("5sKyw",(function(t,r){e(t.exports,"default",(()=>o));var n=s("7qKRb"),i=s("2uohp");var o=function(e,t,r){var s=(e=e||{}).random||(e.rng||n.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=s[o];return t}return i.default(s)}})),s.register("7qKRb",(function(t,r){var n;e(t.exports,"default",(()=>s));var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}})),s.register("2uohp",(function(t,r){e(t.exports,"default",(()=>a));for(var n=s("64ZUg"),i=[],o=0;o<256;++o)i.push((o+256).toString(16).substr(1));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!n.default(r))throw TypeError("Stringified UUID is invalid");return r}})),s.register("64ZUg",(function(t,r){e(t.exports,"default",(()=>i));var n=s("4meF0");var i=function(e){return"string"==typeof e&&n.default.test(e)}})),s.register("4meF0",(function(t,r){e(t.exports,"default",(()=>n));var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i})),s.register("eDZcv",(function(e,t){e.exports='<div class="auth__field">\n  <input id="{{name}}" name={{name}} type="{{type}}" value="{{value}}" {{disabled}} placeholder=" ">\n  <label for="{{name}}">{{label}}</label>\n</div>\n{{#if showErrors}}\n  {{#if errorText}}\n    <p class="auth__error">{{errorText}}</p>\n  {{/if}}\n{{/if}}\n'})),s.register("ai41l",(function(e,t){e.exports='<label>\n  <span>{{label}}</span>\n  <input name={{name}} type="{{type}}" value="{{value}}" {{disabled}} />\n</label>\n{{#if showErrors}}\n  {{#if errorText}}\n    <p class="profile__error">{{errorText}}</p>\n  {{/if}}\n{{/if}}\n'})),s.register("bYVLD",(function(e,t){e.exports='<input type="{{ type }}" value="{{value}}" name="{{ name }}" placeholder="{{ placeholder }}">\n{{#if showErrors}}\n  {{#if errorText}}\n    <p class="chat__error">{{ errorText }}</p>\n  {{/if}}\n{{/if}}\n'})),s.register("byTFg",(function(t,r){let n;e(t.exports,"INPUT_FIELD_VARIANTS",(()=>n)),function(e){e.AUTH="auth",e.PROFILE="profile",e.ROUNDED="rounded"}(n||(n={}))}));
//# sourceMappingURL=Login.e08c94cb.js.map
