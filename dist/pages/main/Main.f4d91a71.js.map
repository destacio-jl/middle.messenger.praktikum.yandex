{"mappings":"4iBAIMA,UAAiBC,EAAAC,oBACTC,GACVC,MAAM,MAAOD,EAAO,CAAEE,UAAS,SAGjCC,SACE,OAAOC,KAAKC,QAAQC,ECVP,s0DDUiBF,KAAKJ,YENvCO,EFUeV,4BGZf,MAEMW,EAAQ,4BACRC,EAAY,YACZC,EAAmB,eAEnBC,EAAQ,eAEDC,EAA+BC,GAC1CA,EAAQ,KAAO,kCAcJC,EACVC,GACAF,IACkBA,GAASA,EAAME,QAAUA,EAGtC,KAAI,+CACHA,IAGIC,EACVD,GACAF,IACkBA,GAASA,EAAME,QAAUA,EAGtC,KAAI,gDACHA,ICPHE,GD6CJH,EAAkB,GAClBE,EAAkB,IAYlBF,EAAkB,GAClBE,EAAkB,IAQlBF,EAAkB,IAClBE,EAAkB,ICpEH,CACf,CACEE,KAAI,UACAC,KAAA,QACJC,QAAO,okBAET,CACED,KAAI,QACJC,QAAO,SACFC,OAAE,KAILC,EAAa,CACjBC,KAAM,UACNC,YAAa,YACJC,QAAAC,EAAAC,qBAAqBC,QAC9BC,YAAY,EACZC,WAAY,CAAClB,IAOTmB,EAAoB,IAAIL,EAAA3B,QAAWuB,EAJnB,CACpBU,gBAAgB,IAwCZC,EAAY,IAAI1B,EAZO,OAhFf,CACZ,CACEgB,KAAM,SACAW,QAAG,cACEf,KAAL,QACNgB,OAAQ,GAEV,CACEZ,KAAM,WACEW,QAAC,SACHf,KAAA,QACNgB,OAAQ,EACRC,UAAU,GAEZ,CACEb,KAAM,OACFW,QACF,4EACwDf,KAApD,QACNgB,OAAQ,GAEV,CACEZ,KAAM,SACAW,QAAG,QACJf,KAAC,KACJgB,OAAM,EACRC,UAAU,sBAwDZL,EACAM,WAAY,CACVd,KAAI,iBACJN,GAEFqB,OAAQ,CACNC,OA/BqBC,IACvBA,EAAEC,iBAEF,MAAMC,EAAS,GAETC,EAAW,KACXZ,EAAkB/B,MAAMuB,QAASQ,EAAkBlB,OAGzDkB,EAAkBa,WAEdb,EAAkB/B,MAAM6C,WAC1BH,EAAOI,KAAK,CACVvB,KAAMQ,EAAkB/B,MAAMuB,KAC9BV,MAAOkB,EAAkBlB,MACzBkC,MAAOhB,EAAkB/B,MAAM6C,YAInCG,QAAQC,IAAIN,GACZK,QAAQC,IAAI,QAAEP,QAiBhBQ,EAAAnD,QAAO,OAAQkC","sources":["src/views/MainPage/MainPage.ts","node_modules/@parcel/runtime-js/lib/bundles/runtime-8e7ee65191126d58.js","src/views/MainPage/index.ts","src/utils/validators.ts","src/pages/Main/Main.ts"],"sourcesContent":["import { MainPageProps } from \"./types\";\nimport template from \"./MainPage.hbs\";\nimport Block from \"../../core/Block\";\n\nclass MainPage extends Block {\n  constructor(props: MainPageProps) {\n    super(\"div\", props, { className: `main` });\n  }\n\n  render() {\n    return this.compile(template, this.props);\n  }\n}\n\nexport default MainPage;\n","module.exports = \"5d0c3e05b6e2edaf\";","import MainPage from \"./MainPage\";\nimport { MainPageProps } from \"./types\";\n\nexport { MainPageProps };\nexport default MainPage;\n","export type Validator = (value: string) => string | null;\n\nconst firstLetterCapitalReg = /[А-ЯA-Z]/;\nconst nameReg = /^[а-яА-Яa-zA-Z-]+$/;\nconst loginReg = /(?!^\\d+$)^[a-zA-Z\\d\\-_]+$/;\nconst hasNumberReg = /.*[0-9].*/;\nconst hasCapitalLetterReg = /.*[А-ЯA-Z].*/;\nconst emailReg = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\nconst phoneReg = /^[\\d+][\\d]+$/;\n\nexport const validateRequired: Validator = (value) =>\n  value ? null : \"Поле обязательно для заполнения\";\n\nexport const validateFirstLetterCapital: Validator = (value) => {\n  const isValid = !value || firstLetterCapitalReg.test(value.charAt(0));\n\n  return isValid ? null : \"Первая буква должна быть заглавной\";\n};\n\nexport const validateNameString: Validator = (value) => {\n  const isValid = !value || nameReg.test(value);\n\n  return isValid ? null : \"Поле может содержать буквы и дефис\";\n};\n\nexport const validateMinLength =\n  (length: number): Validator =>\n  (value) => {\n    const isValid = !value || value.length >= length;\n\n    return isValid\n      ? null\n      : `Кол-во символов должно быть по меньшей мере ${length}`;\n  };\n\nexport const validateMaxLength =\n  (length: number): Validator =>\n  (value) => {\n    const isValid = !value || value.length <= length;\n\n    return isValid\n      ? null\n      : `Кол-во символов должно быть меньше или равно ${length}`;\n  };\n\nexport const validateLoginString: Validator = (value) => {\n  const isValid = !value || loginReg.test(value);\n\n  return isValid\n    ? null\n    : \"Поле может содержать буквы латинского алфавита, дефис и нижнее подчеркивание\";\n};\n\nexport const validatePasswordString: Validator = (value) => {\n  const hasNumber = hasNumberReg.test(value);\n  const hasCapitalLetter = hasCapitalLetterReg.test(value);\n\n  if (value && !hasNumber) return \"Поле должно содержать хотя бы одну цифру\";\n  if (value && !hasCapitalLetter)\n    return \"Поле должно содержать хотя бы одну заглавную букву\";\n\n  return null;\n};\n\nexport const validateEmail: Validator = (value) => {\n  const isValid = !value || emailReg.test(value);\n\n  return isValid ? null : \"Введите имейл в формате common@mail.com\";\n};\n\nexport const validatePhoneString: Validator = (value) => {\n  const isValid = !value || phoneReg.test(value);\n\n  return isValid\n    ? null\n    : `Поле должно содержать только цифр, может начинаться со знака \"+\"`;\n};\n\nexport const loginValidators = [\n  validateRequired,\n  validateMinLength(3),\n  validateMaxLength(20),\n  validateLoginString,\n];\n\nexport const nameValidators = [\n  validateRequired,\n  validateFirstLetterCapital,\n  validateNameString,\n];\n\nexport const passwordValidators = [\n  validateRequired,\n  validateMinLength(8),\n  validateMaxLength(40),\n  validatePasswordString,\n];\n\nexport const emailValidators = [validateRequired, validateEmail];\n\nexport const phoneValidators = [\n  validateRequired,\n  validateMinLength(10),\n  validateMaxLength(15),\n  validatePhoneString,\n];\n","import MainPage, { MainPageProps } from \"../../views/MainPage\";\nimport render from \"../../utils/render\";\nimport InputField, { INPUT_FIELD_VARIANTS } from \"../../ui/InputField\";\nimport { validateRequired } from \"../../utils/validators\";\n\nconst chats = [\n  {\n    name: \"Андрей\",\n    message: \"Изображение\",\n    time: \"10:49\",\n    unread: 2,\n  },\n  {\n    name: \"Киноклуб\",\n    message: \"Стикер\",\n    time: \"12:00\",\n    unread: 0,\n    isAuthor: true,\n  },\n  {\n    name: \"Илья\",\n    message:\n      \"Друзья, у меня для вас особенный выпуск новостей! Бла бла бла бла бла бла\",\n    time: \"10:49\",\n    unread: 4,\n  },\n  {\n    name: \"Андрей\",\n    message: \"Круто\",\n    time: \"Пт\",\n    unread: 0,\n    isAuthor: true,\n  },\n];\n\nconst messages = [\n  {\n    date: `19 июня`,\n    time: `11:56`,\n    content: `Привет! Смотри, тут всплыл интересный кусок лунной космической истории — НАСА в какой-то момент попросила Хассельблад адаптировать модель SWC для полетов на Луну. Сейчас мы все знаем что астронавты летали с моделью 500 EL — и к слову говоря, все тушки этих камер все еще находятся на поверхности Луны, так как астронавты с собой забрали только кассеты с пленкой.<br /><br />Хассельблад в итоге адаптировал SWC для космоса, но что-то пошло не так и на ракету они так никогда и не попали. Всего их было произведено 25 штук, одну из них недавно продали на аукционе за 45000 евро.`,\n  },\n  {\n    time: `11:56`,\n    content: `Круто!`,\n    isOwn: true,\n  },\n];\n\nconst inputProps = {\n  name: \"message\",\n  placeholder: \"Сообщение\",\n  variant: INPUT_FIELD_VARIANTS.ROUNDED,\n  showErrors: false,\n  validators: [validateRequired],\n};\n\nconst inputSettings = {\n  withInternalID: true,\n};\n\nconst messageInputField = new InputField(inputProps, inputSettings);\n\nconst onSubmitHandler = (e: SubmitEvent) => {\n  e.preventDefault();\n\n  const errors = [];\n\n  const formData = {\n    [`${messageInputField.props.name}`]: messageInputField.value,\n  };\n\n  messageInputField.validate();\n\n  if (messageInputField.props.errorText) {\n    errors.push({\n      name: messageInputField.props.name,\n      value: messageInputField.value,\n      error: messageInputField.props.errorText,\n    });\n  }\n\n  console.log(formData);\n  console.log({ errors });\n};\n\nconst props: MainPageProps = {\n  chats,\n  messageInputField,\n  activeChat: {\n    name: `Вадим`,\n    messages,\n  },\n  events: {\n    submit: onSubmitHandler,\n  },\n};\n\nconst loginPage = new MainPage(props);\n\nrender(\".app\", loginPage);\n"],"names":["$13ddd549189e7409$var$MainPage","$4krDm","default","props","super","className","render","this","compile","$parcel$interopDefault","$046883aed808ca33$export$2e2bcd8739ae039","$7dbfb48377d9a293$var$loginReg","$7dbfb48377d9a293$var$hasNumberReg","$7dbfb48377d9a293$var$hasCapitalLetterReg","$7dbfb48377d9a293$var$phoneReg","$7dbfb48377d9a293$export$2e85a6f149681784","value","$7dbfb48377d9a293$export$c7a5279b16a95001","length","$7dbfb48377d9a293$export$d2a61dd0778cccb","$c3b2724f6ef7be49$var$messages","date","time","content","isOwn","$c3b2724f6ef7be49$var$inputProps","name","placeholder","variant","$2Cyn4","INPUT_FIELD_VARIANTS","ROUNDED","showErrors","validators","$c3b2724f6ef7be49$var$messageInputField","withInternalID","$c3b2724f6ef7be49$var$loginPage","message","unread","isAuthor","activeChat","events","submit","e","preventDefault","errors","formData","validate","errorText","push","error","console","log","$9se8b"],"version":3,"file":"Main.f4d91a71.js.map"}